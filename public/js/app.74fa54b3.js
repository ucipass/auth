(function(){"use strict";var e={3638:function(e,t,n){var o=n(9242),a=n(3396);function i(e,t){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}var l=n(89);const s={},r=(0,l.Z)(s,[["render",i]]);var u=r,c=n(678);const d={class:"home vh-100 d-flex flex-column justify-content-center align-items-strech"},g={key:0},m=(0,a._)("i",{class:"bi bi-door-closed text-danger",style:{"font-size":"16rem"}},null,-1),p=(0,a._)("h1",{class:"m-0"},"Unauthorized",-1),f=[m,p],h={key:1},v=(0,a._)("i",{class:"bi bi-door-open text-success",style:{"font-size":"16rem"}},null,-1),y={class:"d-flex justify-content-center"},b=(0,a._)("h1",{class:"m-0"},"Logged in as: admin",-1),w=(0,a._)("i",{class:"bi bi-box-arrow-right",style:{"font-size":"1.5rem"}},null,-1),_=[w];function k(e,t,n,o,i,l){const s=(0,a.up)("ModalLogin");return(0,a.wg)(),(0,a.iD)("div",d,[l.loggedIn?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",g,f)),l.loggedIn?((0,a.wg)(),(0,a.iD)("div",h,[v,(0,a._)("div",y,[b,(0,a._)("button",{type:"button",class:"ms-2 btn btn-danger",onClick:t[0]||(t[0]=(...e)=>l.logout&&l.logout(...e))},_)])])):(0,a.kq)("",!0),(0,a.Wm)(s)])}var x=n(7139);const C=["id","aria-labelledby"],I={class:"modal-dialog"},L={class:"modal-content"},j={class:"modal-header"},M=["id"],D=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),O={class:"modal-body"},F={class:"modal-footer d-flex justify-content-between"},z={class:"text-danger"};function E(e,t,n,o,i,l){const s=(0,a.up)("InputForm");return(0,a.wg)(),(0,a.iD)("div",{class:"modal fade",id:n.name,tabindex:"-1","aria-labelledby":n.name+"label","aria-hidden":"true"},[(0,a._)("div",I,[(0,a._)("div",L,[(0,a._)("div",j,[(0,a._)("h5",{class:"modal-title",id:n.name+"label"},(0,x.zw)(n.title),9,M),D]),(0,a._)("div",O,[(0,a.Wm)(s,{name:"inputFormLogin"})]),(0,a._)("div",F,[(0,a.WI)(e.$slots,"footer",{},(()=>[(0,a._)("p",z,(0,x.zw)(i.statusMessage),1),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>l.login&&l.login(...e))},"Submit")]))])])])],8,C)}var T=n(4870);const $=(0,T.qj)({loggedIn:!1,username:"",password:"",inputFormLogin:{input_rows:[{id:"username",label:"Username",information:"Enter your username",placeholder:"Enter your username"},{id:"password",label:"Password",information:"Enter your password",placeholder:"Enter your password",type:"password"}],values:{username:"",password:""}}});var S=n(6265),P=n.n(S),B=n(8937);const A={class:"p-0"},H={key:0,class:"w-100"},N={class:"d-flex flex-grow-1"},W={class:"d-flex flex-column justify-content-between"},q=["for"],Z=["for"],K=["title"],Y=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-circle",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,a._)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1),G=[Y],U={class:"d-flex flex-column justify-content-between w-100"},V={action:"javascript:void(0);"},J=["name","id","value"],Q=["value"],R=["name","id","type"],X=["name","id","value","placeholder"],ee=["name","id","value","type","placeholder"],te={class:"d-flex justify-content-end m-1"},ne={key:1,class:"alert alert-danger w-100",role:"alert"};function oe(e,t,n,o,i,l){return(0,a.wg)(),(0,a.iD)("div",A,[n.name&&l.inputs.length?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",null,[(0,a.WI)(e.$slots,"header")]),(0,a._)("div",N,[(0,a._)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.inputs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"m-1 d-flex justify-content-end"},["textarea"==e.type?((0,a.wg)(),(0,a.iD)("label",{key:0,class:"m-1 float-right text-nowrap",style:(0,x.j5)(e.style),for:e.id},(0,x.zw)(e.label),13,q)):((0,a.wg)(),(0,a.iD)("label",{key:1,class:"m-1 float-right text-nowrap",for:e.id},(0,x.zw)(e.label),9,Z)),(0,a._)("span",{class:"m-1 float-right","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.information},G,8,K)])))),128))]),(0,a._)("div",U,[(0,a._)("form",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.inputs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"m-1"},["select"==e.type?((0,a.wg)(),(0,a.iD)("select",{key:0,class:"form-select",name:e.id,id:n.name+e.id,value:l.config.values[e.id],onChange:t[0]||(t[0]=(...e)=>l.inputChange&&l.inputChange(...e)),"aria-label":"select-input",autoComplete:"false"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.options,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.text,value:e.value},(0,x.zw)(e.text),9,Q)))),128))],40,J)):"file"==e.type?((0,a.wg)(),(0,a.iD)("input",{key:1,class:"form-control",name:e.id,id:n.name+e.id,type:e.type,onChange:t[1]||(t[1]=(...e)=>l.inputChange&&l.inputChange(...e)),onClick:t[2]||(t[2]=(...e)=>l.inputClick&&l.inputClick(...e)),autoComplete:"false"},null,40,R)):"textarea"==e.type?((0,a.wg)(),(0,a.iD)("textarea",{key:2,class:"form-control",style:(0,x.j5)(e.style),name:e.id,id:n.name+e.id,value:l.config.values[e.id],onChange:t[3]||(t[3]=(...e)=>l.inputChange&&l.inputChange(...e)),placeholder:e.placeholder,autoComplete:"false"},"\n                        ",44,X)):((0,a.wg)(),(0,a.iD)("input",{key:3,class:"form-control",name:e.id,id:n.name+e.id,value:l.config.values[e.id],onChange:t[4]||(t[4]=(...e)=>l.inputChange&&l.inputChange(...e)),type:e.type,placeholder:e.placeholder,autoComplete:"false"},null,40,ee))])))),128))])])]),(0,a._)("div",te,[(0,a.WI)(e.$slots,"footer")])])):((0,a.wg)(),(0,a.iD)("div",ne,[(0,a._)("p",null,(0,x.zw)(i.error_msg),1)]))])}var ae={name:"InputForm",props:{name:String},data(){return{error_msg:"Form configuration is not available"}},computed:{config:function(){return $[this.name]},inputs:function(){let e=this.config?.input_rows?.length>=0?this.config:{input_rows:[]};if(e?.input_rows){let t=e.input_rows.filter((e=>e.id)).map((e=>({id:e.id,options:e.options,label:e.label?e.label:e.id,type:e.type?e.type:"text",placeholder:e.placeholder?e.placeholder:"",information:e.information?e.information:"",class:"checkbox"==e.type?"form-check-input checkbox-inline":"form-control",style:"textarea"==e.type?"resize: none;height: 100px":null})));return t}return[]}},methods:{inputClick:function(e){if("file"==e?.target?.type){const t={name:this.name,id:e.target.name,value:null};console.log("click",t),$[t.name].values[t.id]=t.value}},inputChange:function(e){const t={name:this.name,id:e.target.name,value:e?.target?.files?.length?e.target.files:e.target.value};console.log("change",t),$[t.name].values[t.id]=t.value}},mounted:function(){console.log("Mounted Input:",this.name?this.name:"InputForm is not initiated with a name!")}};const ie=(0,l.Z)(ae,[["render",oe]]);var le=ie,se={name:"ModalLogin",components:{InputForm:le},props:{name:{type:String,default:"ModalLogin"},title:{type:String,default:"Sign in"}},data(){return{statusMessage:""}},computed:{config:function(){return $[this.name]}},methods:{inputClick:function(e){"file"==e?.target?.type&&(e.target.value="")},login:async function(){console.log("LOGIN",$.inputFormLogin.values.username,$.inputFormLogin.values.password);try{let t=await P().post("http://localhost:3000/auth/login",{username:$.inputFormLogin.values.username,password:$.inputFormLogin.values.password},{withCredentials:!0});$.loggedIn=!0;let n=document.getElementById("ModalLogin");var e=B.u_.getInstance(n);e.hide(),this.statusMessage="",console.log(`status: ${t.status}, ${t.statusText}`)}catch(t){this.statusMessage=`${t.response.statusText} (code:${t.response.status}) `}}},mounted:function(){console.log("Mounted:",this.name)}};const re=(0,l.Z)(se,[["render",E]]);var ue=re,ce={name:"HomeView",components:{ModalLogin:ue},methods:{login:async function(){let e=document.getElementById("ModalLogin");var t=B.u_.getInstance(e);t.show()},logout:async function(){console.log("LOGIN",$.inputFormLogin.values.username,$.inputFormLogin.values.password);try{await P().get("http://localhost:3000/auth/logout",{withCredentials:!0}),$.loggedIn=!1}catch(e){console.log("Logout failed!",e)}},status:async function(){try{let e=await P().get("http://localhost:3000/auth/login",{withCredentials:!0});$.loggedIn=!0,$.username=$.inputFormLogin.values.username,console.log(`status: ${e.status}, ${e.statusText}`)}catch(t){$.loggedIn=!1,$.username=null,console.log(`${t.response.statusText} (code:${t.response.status}) `);let n=document.getElementById("ModalLogin");var e=new B.u_(n,{keyboard:!1});e.show()}}},computed:{loggedIn:function(){return $.loggedIn}},mounted:function(){console.log("Mounted:","Home"),this.status(),setInterval((()=>{if(!$.loggedIn&&!document.getElementById("ModalLogin").classList.contains("show")){let t=document.getElementById("ModalLogin");var e=new B.u_(t,{keyboard:!1});e.show()}}),2e3)}};const de=(0,l.Z)(ce,[["render",k]]);var ge=de;const me=[{path:"/",name:"home",component:ge},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,6099))}],pe=(0,c.p7)({history:(0,c.PO)("/auth/"),routes:me});var fe=pe;n(3455);(0,o.ri)(u).use(fe).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],i=e[c][2];for(var s=!0,r=0;r<o.length;r++)(!1&i||l>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(s=!1,i<l&&(l=i));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.ce37a383.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="fileserver:";n.l=function(o,a,i,l){if(e[o])e[o].push(a);else{var s,r;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[a];var g=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var a=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(g.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=g.bind(null,s.onerror),s.onload=g.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/auth/"}(),function(){var e={143:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=i);var l=n.p+n.u(t),s=new Error,r=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),l=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",s.name="ChunkLoadError",s.type=i,s.request=l,a[1](s)}};n.l(l,r,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,l=o[0],s=o[1],r=o[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(r)var c=r(n)}for(t&&t(o);u<l.length;u++)i=l[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkfileserver"]=self["webpackChunkfileserver"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3638)}));o=n.O(o)})();
//# sourceMappingURL=app.74fa54b3.js.map